
<div class="panel panel-default">
    <div class="panel-heading">Date Filter</div>
    <div class="panel-body">
        <div class="row">
            <div class="col-sm-4 form-group">
                <label class="control-label">From:</label>
                <input type="text" date-picker ng-model="vm.startDate" class="form-control" />
            </div>
            <div class="col-sm-4 form-group">
                <label class="control-label">To:</label>
                <input type="text" date-picker ng-model="vm.endDate" class="form-control" />
            </div>
            <div class="col-sm-4 form-group">
                <button class="btn btn-warning" ng-mousedown="vm.getData()"><span class="glyphicon glyphicon-download"></span>Get Data</button>
            </div>
        </div>
    </div>
</div>


<div class="panel panel-default" ng-repeat="person in vm.groupedProjects">

    <div class="panel-heading">
        <h4>{{person.Name}}'s Projects from {{vm.startDate | date}} to {{vm.endDate | date}} <span style="float:right;" projects-total-hours project-groups="person.ProjectGroups"></span></h4>
    </div>

    <div class="panel-body">

        <div class="row">
            <div class="col-md-{{12/person.ProjectGroups.length}}" ng-repeat="projectGroup in person.ProjectGroups">

                <h4>{{projectGroup.Title}}</h4>

                <div style="text-align:center; height:auto; position:relative;">
                    <div style="margin:auto; height:220px; width:220px; position:relative; padding:5px;">

                        <canvas id="chart_{{$parent.$index}}_{{$index}}" doughnut-chart="" projects-data="projectGroup.Projects" width="200" height="200" />

                    </div>
                </div>

                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr><th>&nbsp;</th><th>ID</th><th>Title</th><th>Hours</th></tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="project in projectGroup.Projects">
                                <td><span class="glyphicon glyphicon-stop" style="color:{{project.Color}}"></span></td>
                                <td>{{project.Id}}</td>
                                <td>{{project.Title}}</td>
                                <td>{{project.TotalHours | number:3}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3"><strong>Total</strong></td>
                                <td><total-hours projects="projectGroup.Projects"></total-hours></td>
                            </tr>
                        </tfoot>
                    </table>
                </div><!--/.table-responsive-->

            </div><!--/ng-repeat="projectGroup in person.ProjectGroups"-->

        </div><!--/.row-->

    </div><!--/.panel-body-->

</div><!--/ng-repeat="person in vm.groupedProjects"-->
